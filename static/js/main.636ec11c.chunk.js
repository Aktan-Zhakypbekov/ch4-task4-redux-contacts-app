(this["webpackJsonpch4-task4-redux-contacts-app"]=this["webpackJsonpch4-task4-redux-contacts-app"]||[]).push([[0],{187:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(32),o=c.n(s),i=(c(80),c(18)),r=c(2),l=c(8),m=(c(87),c(1)),d=function(e){var t=Object(l.b)(),c=Object(r.f)();function n(e){t({type:"TOGGLE_HEART",payload:e})}return Object(m.jsxs)("div",{className:"list-item-cont",children:[Object(m.jsx)("div",{className:"list-item-cont__item-img",children:Object(m.jsx)("img",{src:e.obj.image,alt:"img"})}),Object(m.jsxs)("div",{className:"list-item-cont__info",children:[Object(m.jsxs)("div",{className:"info__name",children:[Object(m.jsx)("div",{children:"".concat(e.obj.firstName," ").concat(e.obj.lastName)}),e.obj.favorite?Object(m.jsx)("div",{className:"favorite-btn",onClick:function(t){n(e.obj.id),e.obj.favorite?(t.target.classList.add("favorite-btn"),t.target.classList.remove("not-favorite-btn")):(t.target.classList.add("not-favorite-btn"),t.target.classList.remove("favorite-btn"))}}):Object(m.jsx)("div",{className:"not-favorite-btn",onClick:function(t){n(e.obj.id),e.obj.favorite?(t.target.classList.add("favorite-btn"),t.target.classList.remove("not-favorite-btn")):(t.target.classList.add("not-favorite-btn"),t.target.classList.remove("favorite-btn"))}})]}),Object(m.jsxs)("div",{className:"info__small-details",children:[Object(m.jsxs)("div",{className:"info__small-details__adress",children:[Object(m.jsx)("div",{className:"small-icon-cont",children:Object(m.jsx)("img",{src:"https://image.similarpng.com/very-thumbnail/2021/01/Location-icon-design-on-transparent-background-PNG.png",alt:""})}),Object(m.jsx)("div",{children:"".concat(e.obj.city,", ").concat(e.obj.country)})]}),Object(m.jsxs)("div",{className:"info__small-details__phone",children:[Object(m.jsx)("div",{className:"small-icon-cont",children:Object(m.jsx)("img",{src:"https://www.pngfind.com/pngs/m/66-666166_customer-service-telephone-numbers-svg-png-icon-free.png",alt:""})}),Object(m.jsx)("div",{children:e.obj.phoneNumber})]}),Object(m.jsxs)("div",{className:"info__small-details__website",children:[Object(m.jsx)("div",{className:"small-icon-cont",children:Object(m.jsx)("img",{src:"https://i.pinimg.com/736x/ea/b4/70/eab4700ec044e504ef73c3a6eb6b03e6.jpg",alt:""})}),Object(m.jsx)("div",{children:e.obj.website})]}),Object(m.jsxs)("div",{className:"info__small-details__email",children:[Object(m.jsx)("div",{className:"small-icon-cont",children:Object(m.jsx)("img",{src:"https://toppng.com/uploads/preview/email-icon-vector-circle-11549825158ieiklzfl8g.png",alt:""})}),Object(m.jsx)("div",{children:e.obj.email})]})]}),Object(m.jsx)("div",{className:"info__btn-cont",children:Object(m.jsx)("button",{onClick:function(){c("/".concat(e.obj.id),{state:e.obj})},className:"info__btn-cont__btn",children:"Show"})})]})]})};var _=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.dataReducer})),c=Object(l.c)((function(e){return e.heartToggled})),a=Object(l.c)((function(e){return e.searchLaunched}));return Object(n.useEffect)((function(){fetch("https://my-json-server.typicode.com/RomanChasovitin/demo-api/users").then((function(e){return e.json()})).then((function(t){e({type:"DATA_FETCH",payload:t.data})}))}),[]),Object(n.useEffect)((function(){if(a){var t=document.createElement("button");t.className="back-btn",t.textContent="Back",t.addEventListener("click",(function(t){e({type:"CLEAN_ALL_SEARCHED_DATA"}),e({type:"CLEAN_SEARCHED_TO_FALSE"})})),document.querySelector(".list-funcs__search-cont").appendChild(t)}else document.querySelector(".back-btn")&&document.querySelector(".back-btn").remove()}),[a]),Object(m.jsx)("div",{className:"home-page",children:Object(m.jsxs)("div",{className:"display",children:[Object(m.jsxs)("div",{className:"list-funcs",children:[Object(m.jsx)("div",{className:"list-funcs__search-cont",children:Object(m.jsxs)("form",{className:"search-form1",onSubmit:function(t){var c;t.preventDefault(),console.log(t.target.firstChild.value),c=t.target.firstChild.value,e({type:"LAUNCH_SEARCH",payload:c}),e({type:"ALERT_SEARCH_LAUNCHED"})},children:[Object(m.jsx)("input",{type:"text",className:"list-funcs__search-cont__search",placeholder:"Enter the full name of the contact",required:!0}),Object(m.jsx)("button",{type:"submit",className:"search-btn",children:"Search"})]})}),Object(m.jsxs)("div",{className:"list-funcs__funcs-cont",children:[Object(m.jsx)("div",{className:"toggled-fav-cont",children:Object(m.jsx)("div",{className:"list-funcs__funcs-cont__filter-favs toggled-fav",onClick:function(t){e({type:"TOGGLE_HEART_MAIN"}),c?(t.target.classList.remove("toggled-fav-red"),t.target.classList.add("toggled-fav")):(t.target.classList.remove("toggled-fav"),t.target.classList.add("toggled-fav-red"))}})}),Object(m.jsx)("button",{className:"list-funcs__funcs-cont__sort-a-z btn",onClick:function(){e({type:"SORT_AZ"})},children:"A-Z"}),Object(m.jsx)("button",{className:"list-funcs__funcs-cont__sort-z-a btn",onClick:function(){e({type:"SORT_ZA"})},children:"Z-A"})]})]}),Object(m.jsx)("div",{className:"list",children:a?0!=t.filter((function(e){return!0===e.searched})).length?t.map((function(e){if(e.searched)return Object(m.jsx)(d,{obj:e},e.id)})):Object(m.jsx)("p",{children:"Not Found"}):c?t.map((function(e){if(e.favorite)return Object(m.jsx)(d,{obj:e},e.id)})):t.map((function(e){return Object(m.jsx)(d,{obj:e},e.id)}))})]})})},b=function(){return Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsxs)("div",{className:"nav__logo",children:[Object(m.jsx)("div",{className:"nav__logo__img-cont",children:Object(m.jsx)("img",{src:"https://www.pngkey.com/png/full/87-873887_call-phone-icon-gray-png.png"})}),Object(m.jsx)("div",{className:"my-contacts",children:"MyContacts"})]}),Object(m.jsx)(i.b,{className:"nav__link",to:"/",children:"HomePage"})]})},j=c(5),u=c(13),f=function(){var e=Object(l.b)(),t=Object(r.f)();var c=Object(r.e)(),n={id:c.state.id,firstName:c.state.firstName,city:c.state.city,phoneNumber:c.state.phoneNumber,website:c.state.website,lastName:c.state.lastName,country:c.state.country,email:c.state.email,favorite:c.state.favorite,image:c.state.image,searched:c.state.searched},a=u.a().shape({firstName:u.b().min(2,"First name should be at least 2 characters").max(30,"First name cannot be longer than 30 characters").matches(/^([^0-9]*)$/,"First name should not contain numbers").required("First name required"),city:u.b().min(2,"City should be at least 2 characters").max(50,"City cannot be longer than 50 characters").matches(/^([^0-9]*)$/,"City should not contain numbers").required("City required"),phoneNumber:u.b().min(4,"Phone number should be at least 4 characters").matches(/^[+]\d+/,"It should be a phone number starting with +").required("Phone number required"),website:u.b().min(5,"Website should be at least 5 characters").matches(/^[^.]+[.][^.]+.*[^.]$/,"Invalid website format").required("Website required"),lastName:u.b().min(2,"Last name should be at least 2 characters").max(30,"Lasst name cannot be longer than 30 characters").matches(/^([^0-9]*)$/,"Last name should not contain numbers").required("Last name required"),country:u.b().min(2,"Country should be at least 2 characters").max(50,"Country cannot be longer than 50 characters").matches(/^([^0-9]*)$/,"Country should not contain numbers").required("Country required"),email:u.b().email("Wrong email format").required("Email required")});return Object(m.jsx)(j.d,{initialValues:n,validationSchema:a,onSubmit:function(c){!function(t){e({type:"SAVE_CONTACT",payload:t})}(c),t("/")},children:function(e){e.error,e.touched,e.dirty,e.isValid;var t=e.values;return Object(m.jsxs)(j.c,{className:"contact-info__contact-form",onSubmit:e.handleSubmit,children:[Object(m.jsxs)("div",{className:"contact-info__contact-form__contact-img-cont",children:[Object(m.jsx)("div",{className:"contact-info__contact-form__contact-img-cont__inner-cont",children:Object(m.jsx)("img",{src:t.image,alt:"img"})}),Object(m.jsxs)("div",{className:"heart-cont",children:[Object(m.jsx)(j.b,{id:"heart",name:"favorite",className:"contact-info__contact-form__contact-img-cont__heart-btn",type:"checkbox"}),Object(m.jsx)("label",{htmlFor:"heart",children:"\u2764"})]})]}),Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont",children:[Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column",children:[Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"firstName",children:"First name"}),Object(m.jsx)(j.b,{name:"firstName",className:"first-name input-field",type:"text"}),Object(m.jsx)(j.a,{name:"firstName",component:"div",className:"error-msg"})]})}),Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"city",children:"City"}),Object(m.jsx)(j.b,{name:"city",className:"city input-field",type:"text"}),Object(m.jsx)(j.a,{name:"city",component:"div",className:"error-msg"})]})}),Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number"}),Object(m.jsx)(j.b,{name:"phoneNumber",className:"phone-number input-field",type:"text"}),Object(m.jsx)(j.a,{name:"phoneNumber",component:"div",className:"error-msg"})]})}),Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"website",children:"Website"}),Object(m.jsx)(j.b,{name:"website",className:"website input-field",type:"text"}),Object(m.jsx)(j.a,{name:"website",component:"div",className:"error-msg"})]})})]}),Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column",children:[Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"lastName",children:"Last name"}),Object(m.jsx)(j.b,{name:"lastName",className:"last-name input-field",type:"text"}),Object(m.jsx)(j.a,{name:"lastName",component:"div",className:"error-msg"})]})}),Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"country",children:"Country"}),Object(m.jsx)(j.b,{name:"country",className:"country input-field",type:"text"}),Object(m.jsx)(j.a,{name:"country",component:"div",className:"error-msg"})]})}),Object(m.jsx)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont",children:Object(m.jsxs)("div",{className:"contact-info__contact-form__columns-cont__column__field-cont__inner",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)(j.b,{name:"email",className:"email input-field",type:"text"}),Object(m.jsx)(j.a,{name:"email",component:"div",className:"error-msg"})]})}),Object(m.jsx)("div",{className:"save-contact-btn-cont",children:Object(m.jsx)("button",{className:"save-contact-btn-cont__btn",type:"submit",children:"Save Contact"})})]})]})]})}})},h=function(){return Object(m.jsx)("div",{className:"contact-page",children:Object(m.jsx)(f,{})})};var O=function(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)("div",{className:"main-cont",children:[Object(m.jsx)(b,{}),Object(m.jsxs)(r.c,{children:[Object(m.jsx)(r.a,{path:"/",element:Object(m.jsx)(_,{})}),Object(m.jsx)(r.a,{path:"/:id",element:Object(m.jsx)(h,{})})]})]})})},v=c(36),x=c(25),N=c(3);function p(e,t){return e.firstName<t.firstName?-1:e.firstName>t.firstName?1:0}var g=Object(v.a)({heartToggled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_HEART_MAIN"===t.type?!e:e},dataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("DATA_FETCH"===t.type){if(0!=JSON.parse(localStorage.getItem("data")).length){var c=JSON.parse(localStorage.getItem("data"));e=Object(N.a)(c)}else{var n=Object(N.a)(t.payload);n=n.map((function(e){return e.favorite=!1,e.searched=!1,e})),localStorage.setItem("data",JSON.stringify(n)),e=JSON.parse(localStorage.getItem("data"))}return e}if("SORT_AZ"===t.type){var a=Object(N.a)(e);return localStorage.setItem("data",JSON.stringify(a.sort(p))),a.sort(p)}if("SORT_ZA"===t.type){var s=Object(N.a)(e);return localStorage.setItem("data",JSON.stringify(s.sort(p).reverse())),s.sort(p).reverse()}if("TOGGLE_HEART"===t.type){var o=Object(N.a)(e);return o[o.findIndex((function(e){return e.id==t.payload}))].favorite=!o[o.findIndex((function(e){return e.id==t.payload}))].favorite,localStorage.setItem("data",JSON.stringify(o)),o}if("SAVE_CONTACT"===t.type){var i=Object(N.a)(e);return i[i.findIndex((function(e){return e.id==t.payload.id}))]=Object(x.a)({},t.payload),localStorage.setItem("data",JSON.stringify(i)),i}if("LAUNCH_SEARCH"===t.type){var r=Object(N.a)(e);return r.map((function(e){return e.searched=!1})),0!=r.filter((function(e){return"".concat(e.firstName," ").concat(e.lastName).toLowerCase()==t.payload.toLowerCase()})).length&&(r[r.findIndex((function(e){return"".concat(e.firstName," ").concat(e.lastName).toLowerCase()==t.payload.toLowerCase()}))].searched=!0),r}if("CLEAN_SEARCHED_TO_FALSE"===t.type){var l=Object(N.a)(e);return l.map((function(e){return e.searched=!1})),l}return e},searchLaunched:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"ALERT_SEARCH_LAUNCHED"===t.type||"CLEAN_ALL_SEARCHED_DATA"!==t.type&&e}}),y=g,E=Object(v.b)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(l.a,{store:E,children:Object(m.jsx)(O,{})})}),document.getElementById("root"))},80:function(e,t,c){},87:function(e,t,c){}},[[187,1,2]]]);
//# sourceMappingURL=main.636ec11c.chunk.js.map